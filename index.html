<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <!-- jquery -->
	<script src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <title>Document</title>
</head>
<body>
    <div id="app" class="container-fluid">
        <div id="panel" class="bg-light sidebar"></div>
        <div id="site" class="content">


           
            <div id="categoriesList">
                <h1 style="text-align: center; margin-bottom: 30px; margin-top: 30px">Categories List</h1>
            </div>
            

           
        </div>
    </div>
    <script>
        const $site = document.querySelector('#site')
        let categories = [];

        function appendCategoryToDOM(category){
			categories.push(category)
			$('#categoriesList').append(`
				<div class="category">
					<h2>${category.name}</h2>
					<p>${category.slug}</p>
					<p>${category.eeCatId}</p>
				</div>
			`)
		}

        
        const fetchCategories = () => {
            fetch('http://localhost:8000/categories/', {
                // mode: 'no-cors',
                method: 'GET',
                headers: {
                    'Accept': 'application/json',
                    'secretKey': 'test_key',
                }
            })
            .then(res => {
                return res.json()
            }).then(categories => {
                categories.forEach(category => appendCategoryToDom(category))
            })
            .catch(err => console.log(err))
        }
        // $(site).ready(() => {
           fetchCategories()
        // /
function showCategories(elem) {
    const id = $(elem).data('id');
	const contact = contacts.find(contact => contact.id === id);

        return {
						name: document.getElementById(`name${id}`).value,
						slug: document.getElementById(`slug${id}`).value,
						eeCatId: document.getElementById(`eeCatId${id}`).value
					}
                }
        </script>


        


    
</body>
</html>